!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}(self.webpackChunkui2=self.webpackChunkui2||[]).push([[737],{7737:function(t,o,i){"use strict";i.r(o),i.d(o,{AuthenticationModule:function(){return x}});var r=i(8583),a=i(3423),g=i(7716),l=function(){var t=function(){function t(){n(this,t)}return e(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-authentication"]],decls:9,vars:0,consts:[[1,"container-fluid","login-form-overlay"],[1,"article"],[1,"row"],[1,"col-md-7","col-sm-7","col-xl-7","logo-class","column-padding"],[1,"card-white","img-bg"],[1,"img-market-bg"],[1,"img-logo"],[1,"col-md-5","col-sm-5","col-xl-5","mobile-login-responsive"]],template:function(n,t){1&n&&(g.TgZ(0,"section",0),g.TgZ(1,"article",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"div",5),g._UZ(6,"div",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div",7),g._UZ(8,"router-outlet"),g.qZA(),g.qZA(),g.qZA(),g.qZA())},directives:[a.lC],styles:[".row[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;margin-left:0!important}.img-bg[_ngcontent-%COMP%]{background-color:#2b2b2b}.logo-class[_ngcontent-%COMP%]{background-color:#fff}.card-white[_ngcontent-%COMP%]{height:100vh;width:100%}.mat-checkbox-inner-container[_ngcontent-%COMP%]{height:5px!important;width:5px!important}.mat-checkbox-inner-container-local[_ngcontent-%COMP%]:checked{background-color:#00a8bc!important}a[_ngcontent-%COMP%]{color:#1e90ff!important}.button-group[_ngcontent-%COMP%]{padding-left:15%;padding-top:11%}button[_ngcontent-%COMP%]{width:115px}.mat-raised-button[_ngcontent-%COMP%]{border-radius:4px!important}p[_ngcontent-%COMP%]{font-size:24px;text-align:left;font-weight:100;margin-right:90px}.article[_ngcontent-%COMP%]{padding-bottom:0!important}.container-fluid[_ngcontent-%COMP%]{padding-left:0;padding-right:0;height:100vh}.mat-icon[_ngcontent-%COMP%]{opacity:.57;margin-left:-37px}input.mat-input-element[_ngcontent-%COMP%]{margin-left:12px}.login-err-msg[_ngcontent-%COMP%]{margin-left:35px;color:#ef5350}.image-align[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:20%}.img-logo[_ngcontent-%COMP%]{position:absolute;left:25%;top:20%;width:50%;height:100px}.img-market-bg[_ngcontent-%COMP%]{position:relative;left:0;top:0;height:100%;background:url(/assets/images/background/marketboats-bg-new.png) no-repeat;background-size:cover}.column-padding[_ngcontent-%COMP%]{padding:0!important}.link-file[_ngcontent-%COMP%]{text-decoration:underline;text-align:center}body[_ngcontent-%COMP%]{background-color:#fff!important}@media (max-width: 576px){.mobile-login-responsive[_ngcontent-%COMP%]{position:absolute;top:20%}.img-logo[_ngcontent-%COMP%]{position:absolute;left:0;top:2%;width:100%}.img-logo[_ngcontent-%COMP%], .img-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin:auto}.img-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.img-market-bg[_ngcontent-%COMP%]{width:100%}}"]}),t}(),c=i(3679),s=i(3518),u=i(6324),d=function(){var t=function(){function t(){n(this,t),this.snapshot=null}return e(t,[{key:"loader",value:function(n){}},{key:"setSnapshotData",value:function(n){this.snapshot=n}},{key:"getSnapshotData",value:function(){return this.snapshot}},{key:"resetSnapshotData",value:function(){this.snapshot=null}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),m=i(6083),p=i(6164),f=i(6627),h=i(8295),v=i(9983),b=i(1095);function _(n,t){if(1&n){var e=g.EpF();g.TgZ(0,"mat-error",15),g.NdJ("change",function(){return g.CHM(e),g.oxw().showApiErrorMessage=!1}),g._uU(1,"Email is required."),g.qZA()}}function Z(n,t){1&n&&(g.TgZ(0,"mat-error",16),g._uU(1," Email is not valid."),g.qZA())}function w(n,t){1&n&&(g.TgZ(0,"mat-error",16),g._uU(1,"Password is required."),g.qZA())}function M(n,t){1&n&&(g.TgZ(0,"mat-error",16),g._uU(1," Min 6 characters required"),g.qZA())}function C(n,t){if(1&n&&(g.TgZ(0,"span",17),g._uU(1),g.qZA()),2&n){var e=g.oxw();g.xp6(1),g.Oqu(e.apiErrorMessage)}}var P,k,O=[{path:"",component:l,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(P=function(){function t(e,o,i,r,a,g){n(this,t),this.router=e,this.formBuilder=o,this.loaderService=i,this.apiService=r,this.snackBarService=a,this.localStorageService=g,this.isSignInProgress=!1,this.apiErrorMessage="",this.showApiErrorMessage=!1,this.loginForm=this.formBuilder.group({email:this.formBuilder.control(null,[c.kI.required]),password:this.formBuilder.control(null,[c.kI.required,c.kI.minLength(3)]),isRememberMeChecked:[!1]});var l=localStorage.getItem("credentials");l&&(this.credentials=JSON.parse(l),this.credentials&&void 0!==this.credentials&&this.loginForm.patchValue({email:this.credentials.email,password:this.credentials.password}))}return e(t,[{key:"ngOnInit",value:function(){}},{key:"isUserLoggedIn",value:function(){var n=localStorage.getItem(s.Zb.accessTokenLocalStorage);return!(!n||null==n)}},{key:"onSubmit",value:function(){var n=this;if(this.loginForm.valid){this.loaderService.loader(!0),this.isSignInProgress=!0;var t=this.loginForm.value,e=t.email,o=t.password;this.apiService.login(e,o).subscribe(function(t){var e=t.token,o=t.user;e&&o?(n.localStorageService.setItem(s.Zb.accessTokenLocalStorage,e),n.localStorageService.setItem(s.Zb.userLocalStorage,o),n.snackBarService.open("user logged successfully",u.d.Error,void 0,3e3),n.router.navigateByUrl("/campaigns"),n.getCountries()):n.snackBarService.open("Something went wrong, Please try again!!",u.d.Error,void 0,3e3)},function(t){n.loaderService.loader(!1),n.isSignInProgress=!1,n.loginForm.reset(),n.showApiErrorMessage=!0,n.apiErrorMessage=t.error.message,n.snackBarService.open(n.apiErrorMessage,u.d.Error,void 0,3e3)},function(){n.isSignInProgress=!1,n.loaderService.loader(!1)})}else Object.keys(this.loginForm.controls).forEach(function(t){var e=n.loginForm.get(t);e&&e.markAsTouched({onlySelf:!0})})}},{key:"getCountries",value:function(){var n=this;this.apiService.getCountries().subscribe(function(t){n.localStorageService.setIndexItem("countries",t).subscribe()})}}]),t}(),P.\u0275fac=function(n){return new(n||P)(g.Y36(a.F0),g.Y36(c.qu),g.Y36(d),g.Y36(m.s),g.Y36(u.c),g.Y36(p.n))},P.\u0275cmp=g.Xpm({type:P,selectors:[["app-login"]],decls:27,vars:8,consts:[[1,"login-form-overlay"],[1,"welcome"],[2,"font-weight","bold"],[1,"login-welcome-desc"],[1,"form-validation",3,"formGroup"],[1,"icon-padding"],[1,"mat-icon-left","align-formfield"],["matInput","","formControlName","email","type","email","name","email","placeholder","Email",3,"email"],["align","start","class","form__error",3,"change",4,"ngIf"],["align","start","class","form__error",4,"ngIf"],[1,"p0"],["matInput","","formControlName","password","type","password","name","password","placeholder","Password",3,"change"],["class","login-err-msg",4,"ngIf"],[1,"button-group","button-style-login"],["mat-raised-button","","type","submit",1,"primary",3,"disabled","click"],["align","start",1,"form__error",3,"change"],["align","start",1,"form__error"],[1,"login-err-msg"]],template:function(n,t){1&n&&(g.TgZ(0,"div",0),g.TgZ(1,"div"),g.TgZ(2,"div",1),g.TgZ(3,"h2",2),g._uU(4,"Login"),g.qZA(),g.TgZ(5,"p",3),g._uU(6," Welcome back ! Please login in to your account "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"div"),g.TgZ(8,"form",4),g.TgZ(9,"div"),g.TgZ(10,"mat-icon",5),g._uU(11,"mail_outline"),g.qZA(),g.TgZ(12,"mat-form-field",6),g._UZ(13,"input",7),g.YNc(14,_,2,0,"mat-error",8),g.YNc(15,Z,2,0,"mat-error",9),g.qZA(),g.qZA(),g.TgZ(16,"div",10),g.TgZ(17,"mat-icon",5),g._uU(18,"lock_outline"),g.qZA(),g.TgZ(19,"mat-form-field",6),g.TgZ(20,"input",11),g.NdJ("change",function(){return t.showApiErrorMessage=!1}),g.qZA(),g.YNc(21,w,2,0,"mat-error",9),g.YNc(22,M,2,0,"mat-error",9),g.qZA(),g.YNc(23,C,2,1,"span",12),g.qZA(),g.TgZ(24,"div",13),g.TgZ(25,"button",14),g.NdJ("click",function(){return t.onSubmit()}),g._uU(26,"Login"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(8),g.Q6J("formGroup",t.loginForm),g.xp6(5),g.Q6J("email",!0),g.xp6(1),g.Q6J("ngIf",null==t.loginForm?null:t.loginForm.get("email").hasError("required")),g.xp6(1),g.Q6J("ngIf",!(null!=t.loginForm&&t.loginForm.get("email").valid||null!=t.loginForm&&t.loginForm.get("email").hasError("required"))),g.xp6(6),g.Q6J("ngIf",null==t.loginForm?null:t.loginForm.get("password").hasError("required")),g.xp6(1),g.Q6J("ngIf",null==t.loginForm?null:t.loginForm.get("password").hasError("minlength")),g.xp6(1),g.Q6J("ngIf",t.showApiErrorMessage),g.xp6(2),g.Q6J("disabled",t.loginForm.invalid||t.isSignInProgress))},directives:[c._Y,c.JL,c.sg,f.Hw,h.KE,v.Nt,c.Fj,c.JJ,c.u,c.on,r.O5,b.lW,h.TO],styles:[".align-formfield[_ngcontent-%COMP%]{width:70%}.welcome[_ngcontent-%COMP%]{margin-left:15%;padding-top:20%;padding-bottom:10%}.icon-padding[_ngcontent-%COMP%]{padding-right:8%;padding-left:8%}.additional-info[_ngcontent-%COMP%]{padding-left:16%;font-weight:lighter;font-size:small}.forgot-password[_ngcontent-%COMP%]{padding-left:42%;color:grey;text-decoration:none}.button-style-login[_ngcontent-%COMP%]{padding-left:16%;padding-top:10%;padding-bottom:10%}.login-welcome-desc[_ngcontent-%COMP%]{line-height:30px;font-weight:lighter}.text-center[_ngcontent-%COMP%]{padding-left:16%}.p0[_ngcontent-%COMP%]{padding-top:2%}.login-err-msg[_ngcontent-%COMP%]{margin-left:35px;color:#ef5350}@media (max-width: 576px){.forgot-password[_ngcontent-%COMP%]{padding-left:16%}.welcome[_ngcontent-%COMP%]{text-align:center;margin-left:unset;padding:3% 5%}.login-welcome-desc[_ngcontent-%COMP%]{text-align:center;-webkit-margin-before:0!important;margin-block-start:0!important;-webkit-margin-after:0!important;margin-block-end:0!important}}"]}),P)}]}],x=((k=function t(){n(this,t)}).\u0275fac=function(n){return new(n||k)},k.\u0275mod=g.oAB({type:k}),k.\u0275inj=g.cJS({providers:[],imports:[[b.ot,f.Ps,h.lN,v.c,c.u5,c.UX,a.Bz.forChild(O),r.ez]]}),k)}}])}();