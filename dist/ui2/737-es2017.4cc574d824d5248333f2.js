(self.webpackChunkui2=self.webpackChunkui2||[]).push([[737],{7737:function(t,n,e){"use strict";e.r(n),e.d(n,{AuthenticationModule:function(){return C}});var o=e(8583),i=e(3423),r=e(7716);let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-authentication"]],decls:9,vars:0,consts:[[1,"container-fluid","login-form-overlay"],[1,"article"],[1,"row"],[1,"col-md-7","col-sm-7","col-xl-7","logo-class","column-padding"],[1,"card-white","img-bg"],[1,"img-market-bg"],[1,"img-logo"],[1,"col-md-5","col-sm-5","col-xl-5","mobile-login-responsive"]],template:function(t,n){1&t&&(r.TgZ(0,"section",0),r.TgZ(1,"article",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._UZ(6,"div",6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",7),r._UZ(8,"router-outlet"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[i.lC],styles:[".row[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;margin-left:0!important}.img-bg[_ngcontent-%COMP%]{background-color:#2b2b2b}.logo-class[_ngcontent-%COMP%]{background-color:#fff}.card-white[_ngcontent-%COMP%]{height:100vh;width:100%}.mat-checkbox-inner-container[_ngcontent-%COMP%]{height:5px!important;width:5px!important}.mat-checkbox-inner-container-local[_ngcontent-%COMP%]:checked{background-color:#00a8bc!important}a[_ngcontent-%COMP%]{color:#1e90ff!important}.button-group[_ngcontent-%COMP%]{padding-left:15%;padding-top:11%}button[_ngcontent-%COMP%]{width:115px}.mat-raised-button[_ngcontent-%COMP%]{border-radius:4px!important}p[_ngcontent-%COMP%]{font-size:24px;text-align:left;font-weight:100;margin-right:90px}.article[_ngcontent-%COMP%]{padding-bottom:0!important}.container-fluid[_ngcontent-%COMP%]{padding-left:0;padding-right:0;height:100vh}.mat-icon[_ngcontent-%COMP%]{opacity:.57;margin-left:-37px}input.mat-input-element[_ngcontent-%COMP%]{margin-left:12px}.login-err-msg[_ngcontent-%COMP%]{margin-left:35px;color:#ef5350}.image-align[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:20%}.img-logo[_ngcontent-%COMP%]{position:absolute;left:25%;top:20%;width:50%;height:100px}.img-market-bg[_ngcontent-%COMP%]{position:relative;left:0;top:0;height:100%;background:url(/assets/images/background/marketboats-bg-new.png) no-repeat;background-size:cover}.column-padding[_ngcontent-%COMP%]{padding:0!important}.link-file[_ngcontent-%COMP%]{text-decoration:underline;text-align:center}body[_ngcontent-%COMP%]{background-color:#fff!important}@media (max-width: 576px){.mobile-login-responsive[_ngcontent-%COMP%]{position:absolute;top:20%}.img-logo[_ngcontent-%COMP%]{position:absolute;left:0;top:2%;width:100%}.img-logo[_ngcontent-%COMP%], .img-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin:auto}.img-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.img-market-bg[_ngcontent-%COMP%]{width:100%}}"]}),t})();var g=e(3679),s=e(3518),l=e(6324);let c=(()=>{class t{constructor(){this.snapshot=null}loader(t){}setSnapshotData(t){this.snapshot=t}getSnapshotData(){return this.snapshot}resetSnapshotData(){this.snapshot=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=e(6083),m=e(6164),p=e(6627),u=e(8295),h=e(9983),f=e(1095);function _(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"mat-error",15),r.NdJ("change",function(){return r.CHM(t),r.oxw().showApiErrorMessage=!1}),r._uU(1,"Email is required."),r.qZA()}}function b(t,n){1&t&&(r.TgZ(0,"mat-error",16),r._uU(1," Email is not valid."),r.qZA())}function Z(t,n){1&t&&(r.TgZ(0,"mat-error",16),r._uU(1,"Password is required."),r.qZA())}function v(t,n){1&t&&(r.TgZ(0,"mat-error",16),r._uU(1," Min 6 characters required"),r.qZA())}function w(t,n){if(1&t&&(r.TgZ(0,"span",17),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.apiErrorMessage)}}const M=[{path:"",component:a,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(t,n,e,o,i,r){this.router=t,this.formBuilder=n,this.loaderService=e,this.apiService=o,this.snackBarService=i,this.localStorageService=r,this.isSignInProgress=!1,this.apiErrorMessage="",this.showApiErrorMessage=!1,this.loginForm=this.formBuilder.group({email:this.formBuilder.control(null,[g.kI.required]),password:this.formBuilder.control(null,[g.kI.required,g.kI.minLength(3)]),isRememberMeChecked:[!1]});const a=localStorage.getItem("credentials");a&&(this.credentials=JSON.parse(a),this.credentials&&void 0!==this.credentials&&this.loginForm.patchValue({email:this.credentials.email,password:this.credentials.password}))}ngOnInit(){}isUserLoggedIn(){const t=localStorage.getItem(s.Zb.accessTokenLocalStorage);return!(!t||null==t)}onSubmit(){if(this.loginForm.valid){this.loaderService.loader(!0),this.isSignInProgress=!0;const{email:t,password:n}=this.loginForm.value;this.apiService.login(t,n).subscribe(t=>{const{token:n,user:e}=t;n&&e?(this.localStorageService.setItem(s.Zb.accessTokenLocalStorage,n),this.localStorageService.setItem(s.Zb.userLocalStorage,e),this.snackBarService.open("user logged successfully",l.d.Error,void 0,3e3),this.router.navigateByUrl("/campaigns"),this.getCountries()):this.snackBarService.open("Something went wrong, Please try again!!",l.d.Error,void 0,3e3)},t=>{this.loaderService.loader(!1),this.isSignInProgress=!1,this.loginForm.reset(),this.showApiErrorMessage=!0,this.apiErrorMessage=t.error.message,this.snackBarService.open(this.apiErrorMessage,l.d.Error,void 0,3e3)},()=>{this.isSignInProgress=!1,this.loaderService.loader(!1)})}else Object.keys(this.loginForm.controls).forEach(t=>{const n=this.loginForm.get(t);n&&n.markAsTouched({onlySelf:!0})})}getCountries(){this.apiService.getCountries().subscribe(t=>{this.localStorageService.setIndexItem("countries",t).subscribe()})}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(i.F0),r.Y36(g.qu),r.Y36(c),r.Y36(d.s),r.Y36(l.c),r.Y36(m.n))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:27,vars:8,consts:[[1,"login-form-overlay"],[1,"welcome"],[2,"font-weight","bold"],[1,"login-welcome-desc"],[1,"form-validation",3,"formGroup"],[1,"icon-padding"],[1,"mat-icon-left","align-formfield"],["matInput","","formControlName","email","type","email","name","email","placeholder","Email",3,"email"],["align","start","class","form__error",3,"change",4,"ngIf"],["align","start","class","form__error",4,"ngIf"],[1,"p0"],["matInput","","formControlName","password","type","password","name","password","placeholder","Password",3,"change"],["class","login-err-msg",4,"ngIf"],[1,"button-group","button-style-login"],["mat-raised-button","","type","submit",1,"primary",3,"disabled","click"],["align","start",1,"form__error",3,"change"],["align","start",1,"form__error"],[1,"login-err-msg"]],template:function(t,n){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div"),r.TgZ(2,"div",1),r.TgZ(3,"h2",2),r._uU(4,"Login"),r.qZA(),r.TgZ(5,"p",3),r._uU(6," Welcome back ! Please login in to your account "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"form",4),r.TgZ(9,"div"),r.TgZ(10,"mat-icon",5),r._uU(11,"mail_outline"),r.qZA(),r.TgZ(12,"mat-form-field",6),r._UZ(13,"input",7),r.YNc(14,_,2,0,"mat-error",8),r.YNc(15,b,2,0,"mat-error",9),r.qZA(),r.qZA(),r.TgZ(16,"div",10),r.TgZ(17,"mat-icon",5),r._uU(18,"lock_outline"),r.qZA(),r.TgZ(19,"mat-form-field",6),r.TgZ(20,"input",11),r.NdJ("change",function(){return n.showApiErrorMessage=!1}),r.qZA(),r.YNc(21,Z,2,0,"mat-error",9),r.YNc(22,v,2,0,"mat-error",9),r.qZA(),r.YNc(23,w,2,1,"span",12),r.qZA(),r.TgZ(24,"div",13),r.TgZ(25,"button",14),r.NdJ("click",function(){return n.onSubmit()}),r._uU(26,"Login"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Q6J("formGroup",n.loginForm),r.xp6(5),r.Q6J("email",!0),r.xp6(1),r.Q6J("ngIf",null==n.loginForm?null:n.loginForm.get("email").hasError("required")),r.xp6(1),r.Q6J("ngIf",!(null!=n.loginForm&&n.loginForm.get("email").valid||null!=n.loginForm&&n.loginForm.get("email").hasError("required"))),r.xp6(6),r.Q6J("ngIf",null==n.loginForm?null:n.loginForm.get("password").hasError("required")),r.xp6(1),r.Q6J("ngIf",null==n.loginForm?null:n.loginForm.get("password").hasError("minlength")),r.xp6(1),r.Q6J("ngIf",n.showApiErrorMessage),r.xp6(2),r.Q6J("disabled",n.loginForm.invalid||n.isSignInProgress))},directives:[g._Y,g.JL,g.sg,p.Hw,u.KE,h.Nt,g.Fj,g.JJ,g.u,g.on,o.O5,f.lW,u.TO],styles:[".align-formfield[_ngcontent-%COMP%]{width:70%}.welcome[_ngcontent-%COMP%]{margin-left:15%;padding-top:20%;padding-bottom:10%}.icon-padding[_ngcontent-%COMP%]{padding-right:8%;padding-left:8%}.additional-info[_ngcontent-%COMP%]{padding-left:16%;font-weight:lighter;font-size:small}.forgot-password[_ngcontent-%COMP%]{padding-left:42%;color:grey;text-decoration:none}.button-style-login[_ngcontent-%COMP%]{padding-left:16%;padding-top:10%;padding-bottom:10%}.login-welcome-desc[_ngcontent-%COMP%]{line-height:30px;font-weight:lighter}.text-center[_ngcontent-%COMP%]{padding-left:16%}.p0[_ngcontent-%COMP%]{padding-top:2%}.login-err-msg[_ngcontent-%COMP%]{margin-left:35px;color:#ef5350}@media (max-width: 576px){.forgot-password[_ngcontent-%COMP%]{padding-left:16%}.welcome[_ngcontent-%COMP%]{text-align:center;margin-left:unset;padding:3% 5%}.login-welcome-desc[_ngcontent-%COMP%]{text-align:center;-webkit-margin-before:0!important;margin-block-start:0!important;-webkit-margin-after:0!important;margin-block-end:0!important}}"]}),t})()}]}];let C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[],imports:[[f.ot,p.Ps,u.lN,h.c,g.u5,g.UX,i.Bz.forChild(M),o.ez]]}),t})()}}]);