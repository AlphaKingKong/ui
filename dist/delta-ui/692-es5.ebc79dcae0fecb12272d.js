!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=r(e);if(t){var a=r(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return o(this,i)}}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkdelta_ui=self.webpackChunkdelta_ui||[]).push([[692],{6692:function(t,n,o){"use strict";o.r(n),o.d(n,{CampaignsModule:function(){return Pe}});var r=o(8583),c=o(3423),h=o(2790),d=o(3962),p=o(2789),g=o(3679),m=o(2238),f=o(6324),b=o(7716),_=o(6083),v=o(6164),y=o(8295),k=o(9983),C=o(7441),x=o(2458),w=o(1095);function I(e,t){1&e&&(b.TgZ(0,"mat-error",17),b._uU(1," Campaign Name is required."),b.qZA())}function Z(e,t){if(1&e&&(b.TgZ(0,"mat-option",18),b._uU(1),b.qZA()),2&e){var i=t.$implicit;b.Q6J("value",i.code),b.xp6(1),b.Oqu(i.name)}}function S(e,t){1&e&&(b.TgZ(0,"mat-error",17),b._uU(1," Country is required."),b.qZA())}function A(e,t){1&e&&(b.TgZ(0,"mat-error",17),b._uU(1," Campaign Type is required."),b.qZA())}function T(e,t){1&e&&(b.TgZ(0,"mat-error",17),b._uU(1," Offer ID is required."),b.qZA())}function q(e,t){1&e&&(b.TgZ(0,"mat-error",17),b._uU(1," Affiliate ID is required."),b.qZA())}function R(e,t){1&e&&(b.TgZ(0,"mat-error",17),b._uU(1," Campaign URL is required."),b.qZA())}var D=function(){var e=function(){function e(t,i,n,a,o,s){l(this,e),this.apiService=t,this.dialogRef=i,this.formBuilder=n,this.localStorageService=a,this.snackBarService=o,this.dialogueData=s}return u(e,[{key:"ngOnInit",value:function(){this.setData(this.dialogueData),this.getCountries(),this.isEdit=!!this.dialogueData}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"getCountries",value:function(){var e=this;this.localStorageService.getIndexItem("countries").subscribe(function(t){e.countries=t})}},{key:"setData",value:function(e){this.campaignForm=this.formBuilder.group({name:this.formBuilder.control(null==e?void 0:e.name,[g.kI.required]),country:this.formBuilder.control(null==e?void 0:e.country,[g.kI.required]),campaign_type:this.formBuilder.control(null==e?void 0:e.campaign_type,[g.kI.required]),offer_id:this.formBuilder.control(null==e?void 0:e.offer_id,[g.kI.required]),affiliate_id:this.formBuilder.control(null==e?void 0:e.affiliate_id,[g.kI.required]),url:this.formBuilder.control(null==e?void 0:e.url,[g.kI.required])})}},{key:"saveCampaign",value:function(){var e=this,t=this.campaignForm.value;console.log(t),this.dialogueData?this.apiService.updateCampaign(t,this.dialogueData._id.$oid).subscribe(function(t){e.dialogRef.close(!0),e.snackBarService.open("Campaign updated successfully",f.d.Success,void 0,3e3)},function(t){e.snackBarService.open("Something went wrong while updating campaign. Please try again",f.d.Error,void 0,3e3)}):this.apiService.createCampaign(t).subscribe(function(t){e.snackBarService.open("Campaign created successfully",f.d.Success,void 0,3e3),e.dialogRef.close(!0)},function(t){e.snackBarService.open("Something went wrong while creating campaign. Please try again",f.d.Error,void 0,3e3)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(_.s),b.Y36(m.so),b.Y36(g.qu),b.Y36(v.n),b.Y36(f.c),b.Y36(m.WI))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-add-campaign"]],decls:36,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"width-100"],["matInput","","formControlName","name","type","text","name","name","placeholder","Enter Campaign Name"],["align","start","class","form__error",4,"ngIf"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campaign_type"],["value","SIMILAR"],["value","UNIQUE"],["matInput","","formControlName","offer_id","type","text","name","name","placeholder","Enter Offer ID"],["matInput","","formControlName","affiliate_id","type","text","name","name","placeholder","Enter Affiliate ID"],["matInput","","formControlName","url","type","text","name","name","placeholder","Enter Campaign URL"],["mat-dialog-actions","",2,"float","right"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["align","start",1,"form__error"],[3,"value"]],template:function(e,t){var i,n,a,o,s,r;(1&e&&(b.TgZ(0,"h1",0),b._uU(1),b.qZA(),b.TgZ(2,"div",1),b.TgZ(3,"form",2),b.TgZ(4,"mat-form-field",3),b._UZ(5,"input",4),b.YNc(6,I,2,0,"mat-error",5),b.qZA(),b.TgZ(7,"mat-form-field"),b.TgZ(8,"mat-label"),b._uU(9,"Select Country"),b.qZA(),b.TgZ(10,"mat-select",6),b.YNc(11,Z,2,2,"mat-option",7),b.qZA(),b.YNc(12,S,2,0,"mat-error",5),b.qZA(),b.TgZ(13,"mat-form-field"),b.TgZ(14,"mat-label"),b._uU(15,"Select Campaign Type"),b.qZA(),b.TgZ(16,"mat-select",8),b.TgZ(17,"mat-option",9),b._uU(18,"SIMILAR"),b.qZA(),b.TgZ(19,"mat-option",10),b._uU(20,"UNIQUE"),b.qZA(),b.qZA(),b.YNc(21,A,2,0,"mat-error",5),b.qZA(),b.TgZ(22,"mat-form-field"),b._UZ(23,"input",11),b.YNc(24,T,2,0,"mat-error",5),b.qZA(),b.TgZ(25,"mat-form-field"),b._UZ(26,"input",12),b.YNc(27,q,2,0,"mat-error",5),b.qZA(),b.TgZ(28,"mat-form-field"),b._UZ(29,"input",13),b.YNc(30,R,2,0,"mat-error",5),b.qZA(),b.qZA(),b.qZA(),b.TgZ(31,"div",14),b.TgZ(32,"button",15),b.NdJ("click",function(){return t.onNoClick()}),b._uU(33,"Cancel"),b.qZA(),b.TgZ(34,"button",16),b.NdJ("click",function(){return t.saveCampaign()}),b._uU(35,"Submit"),b.qZA(),b.qZA()),2&e)&&(b.xp6(1),b.hij("",t.isEdit?"Edit":"Create"," Campaign"),b.xp6(2),b.Q6J("formGroup",t.campaignForm),b.xp6(3),b.Q6J("ngIf",null==t.campaignForm||null==(i=t.campaignForm.get("name"))?null:i.hasError("required")),b.xp6(5),b.Q6J("ngForOf",t.countries),b.xp6(1),b.Q6J("ngIf",null==t.campaignForm||null==(n=t.campaignForm.get("country"))?null:n.hasError("required")),b.xp6(9),b.Q6J("ngIf",null==t.campaignForm||null==(a=t.campaignForm.get("campaign_type"))?null:a.hasError("required")),b.xp6(3),b.Q6J("ngIf",null==t.campaignForm||null==(o=t.campaignForm.get("offer_id"))?null:o.hasError("required")),b.xp6(3),b.Q6J("ngIf",null==t.campaignForm||null==(s=t.campaignForm.get("affiliate_id"))?null:s.hasError("required")),b.xp6(3),b.Q6J("ngIf",null==t.campaignForm||null==(r=t.campaignForm.get("url"))?null:r.hasError("required")),b.xp6(4),b.Q6J("disabled",t.campaignForm.invalid))},directives:[m.uh,m.xY,g._Y,g.JL,g.sg,y.KE,k.Nt,g.Fj,g.JJ,g.u,r.O5,y.hX,C.gD,r.sg,x.ey,m.H8,w.lW,y.TO],styles:[""]}),e}(),F=o(9992),E=o(8553),O=o(9490),U=o(6237),N=o(9238),Y=["thumbContainer"],B=["toggleBar"],M=["input"],J=function(e){return{enterDuration:e}},Q=["*"],j=new b.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),L=0,P={provide:g.JU,useExisting:(0,b.Gpc)(function(){return V}),multi:!0},H=u(function e(t,i){l(this,e),this.source=t,this.checked=i}),z=(0,x.sb)((0,x.pj)((0,x.Kr)((0,x.Id)(function(){return u(function e(t){l(this,e),this._elementRef=t})}())))),V=function(){var e=function(e){i(n,e);var t=a(n);function n(e,i,a,o,s,r){var c;return l(this,n),(c=t.call(this,e))._focusMonitor=i,c._changeDetectorRef=a,c.defaults=s,c._onChange=function(e){},c._onTouched=function(){},c._uniqueId="mat-slide-toggle-"+ ++L,c._required=!1,c._checked=!1,c.name=null,c.id=c._uniqueId,c.labelPosition="after",c.ariaLabel=null,c.ariaLabelledby=null,c.change=new b.vpe,c.toggleChange=new b.vpe,c.tabIndex=parseInt(o)||0,c.color=c.defaultColor=s.color||"accent",c._noopAnimations="NoopAnimations"===r,c}return u(n,[{key:"required",get:function(){return this._required},set:function(e){this._required=(0,O.Ig)(e)}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=(0,O.Ig)(e),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"ngAfterContentInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){"keyboard"===t||"program"===t?e._inputElement.nativeElement.focus():t||Promise.resolve().then(function(){return e._onTouched()})})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new H(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}}]),n}(z);return e.\u0275fac=function(t){return new(t||e)(b.Y36(b.SBq),b.Y36(N.tE),b.Y36(b.sBO),b.$8M("tabindex"),b.Y36(j),b.Y36(U.Qb,8))},e.\u0275cmp=b.Xpm({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){var i;(1&e&&(b.Gf(Y,5),b.Gf(B,5),b.Gf(M,5)),2&e)&&(b.iGM(i=b.CRH())&&(t._thumbEl=i.first),b.iGM(i=b.CRH())&&(t._thumbBarEl=i.first),b.iGM(i=b.CRH())&&(t._inputElement=i.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(b.Ikx("id",t.id),b.uIk("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),b.ekj("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable",t._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[b._Bn([P]),b.qOj],ngContentSelectors:Q,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(b.F$t(),b.TgZ(0,"label",0,1),b.TgZ(2,"div",2,3),b.TgZ(4,"input",4,5),b.NdJ("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),b.qZA(),b.TgZ(6,"div",6,7),b._UZ(8,"div",8),b.TgZ(9,"div",9),b._UZ(10,"div",10),b.qZA(),b.qZA(),b.qZA(),b.TgZ(11,"span",11,12),b.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),b.TgZ(13,"span",13),b._uU(14,"\xa0"),b.qZA(),b.Hsn(15),b.qZA(),b.qZA()),2&e){var i=b.MAs(1),n=b.MAs(12);b.uIk("for",t.inputId),b.xp6(2),b.ekj("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),b.xp6(2),b.Q6J("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),b.uIk("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),b.xp6(5),b.Q6J("matRippleTrigger",i)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",b.VKq(18,J,t._noopAnimations?0:150))}},directives:[x.wG,E.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e}(),$=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({}),e}(),G=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[$,x.si,x.BQ,E.Q8],$,x.BQ]}),e}();function W(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"mat-list-item"),b.TgZ(1,"p"),b.TgZ(2,"span"),b._uU(3),b.qZA(),b.TgZ(4,"span"),b.TgZ(5,"mat-slide-toggle",5),b.NdJ("checkedChange",function(e){return b.CHM(i).$implicit.is_assigned=e})("change",function(e){var t=b.CHM(i).$implicit;return b.oxw().onChange(e,t)}),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=t.$implicit;b.xp6(3),b.Oqu(n.username),b.xp6(2),b.Q6J("checked",n.is_assigned)}}var K=function(){var e=function(){function e(t,i,n,a){l(this,e),this.apiService=t,this.dialogRef=i,this.snackBarService=n,this.dialogueData=a,this.assignments=[],this.users=[]}return u(e,[{key:"ngOnInit",value:function(){var e,t=this;console.log(this.dialogueData),this.users=this.dialogueData.users,this.assignments=this.dialogueData.assignments,console.log(this.assignments),console.log(this.users),null===(e=this.users)||void 0===e||e.forEach(function(e){var i;e.assignment=t.assignments.find(function(t){return t.user_id.$oid==e._id.$oid}),e.is_assigned=!!(null===(i=e.assignment)||void 0===i?void 0:i.is_assigned)}),console.log(this.users)}},{key:"update",value:function(){var e=this,t=[];this.users.forEach(function(i){var n={};n.is_assigned=i.is_assigned,n.user_id=i._id.$oid,n.campaign_id=e.dialogueData.campaign._id.$oid,i.assignment&&(n.id=i.assignment._id.$oid),(n.is_assigned||i.assignment&&i.assignment.is_assigned!=n.is_assigned)&&t.push(n)}),this.apiService.assignCampaign(t).subscribe(function(t){e.dialogRef.close(!0),e.snackBarService.open("Campaign assigned successfully",f.d.Success,void 0,3e3)},function(t){e.snackBarService.open("Something went wrong while assigning campaign. Please try again",f.d.Error,void 0,3e3)}),console.log(t)}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onChange",value:function(e,t){console.log(e,t),t.is_assigned=e.checked}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(_.s),b.Y36(m.so),b.Y36(f.c),b.Y36(m.WI))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-assign-campaign"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngFor","ngForOf"],["mat-dialog-actions","",2,"float","right"],["mat-button","",3,"click"],["color","primary",3,"checked","checkedChange","change"]],template:function(e,t){1&e&&(b.TgZ(0,"h1",0),b._uU(1,"Assign Campaign"),b.qZA(),b.TgZ(2,"div",1),b.TgZ(3,"mat-list"),b.YNc(4,W,6,2,"mat-list-item",2),b.qZA(),b.qZA(),b.TgZ(5,"div",3),b.TgZ(6,"button",4),b.NdJ("click",function(){return t.onNoClick()}),b._uU(7,"Cancel"),b.qZA(),b.TgZ(8,"button",4),b.NdJ("click",function(){return t.update()}),b._uU(9,"Update"),b.qZA(),b.qZA()),2&e&&(b.xp6(4),b.Q6J("ngForOf",t.users))},directives:[m.uh,m.xY,F.i$,r.sg,m.H8,w.lW,F.Tg,V],styles:[""]}),e}(),X=o(6461),ee=o(9765),te=o(6682),ie=o(5257),ne=o(6782),ae=o(9761),oe=o(8345),se=o(521),re=o(946),le=["*"],ce=new b.OlP("MatChipRemove"),ue=new b.OlP("MatChipAvatar"),he=new b.OlP("MatChipTrailingIcon"),de=u(function e(t){l(this,e),this._elementRef=t}),pe=(0,x.sb)((0,x.pj)((0,x.Kr)(de),"primary"),-1),ge=function(){var e=function(e){i(n,e);var t=a(n);function n(e,i,a,o,r,c,u,h){var d;return l(this,n),(d=t.call(this,e))._ngZone=i,d._changeDetectorRef=r,d._hasFocus=!1,d.chipListSelectable=!0,d._chipListMultiple=!1,d._chipListDisabled=!1,d._selected=!1,d._selectable=!0,d._disabled=!1,d._removable=!0,d._onFocus=new ee.xQ,d._onBlur=new ee.xQ,d.selectionChange=new b.vpe,d.destroyed=new b.vpe,d.removed=new b.vpe,d._addHostClassName(),d._chipRippleTarget=c.createElement("div"),d._chipRippleTarget.classList.add("mat-chip-ripple"),d._elementRef.nativeElement.appendChild(d._chipRippleTarget),d._chipRipple=new x.IR(s(d),i,d._chipRippleTarget,a),d._chipRipple.setupTriggerEvents(e),d.rippleConfig=o||{},d._animationsDisabled="NoopAnimations"===u,d.tabIndex=null!=h&&parseInt(h)||-1,d}return u(n,[{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(e){var t=(0,O.Ig)(e);t!==this._selected&&(this._selected=t,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(e){this._value=e}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(e){this._selectable=(0,O.Ig)(e)}},{key:"disabled",get:function(){return this._chipListDisabled||this._disabled},set:function(e){this._disabled=(0,O.Ig)(e)}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=(0,O.Ig)(e)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}},{key:"_addHostClassName",value:function(){var e=this._elementRef.nativeElement;e.hasAttribute("mat-basic-chip")||"mat-basic-chip"===e.tagName.toLowerCase()?e.classList.add("mat-basic-chip"):e.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}},{key:"toggleSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(e){this.disabled?e.preventDefault():e.stopPropagation()}},{key:"_handleKeydown",value:function(e){if(!this.disabled)switch(e.keyCode){case X.yY:case X.ZH:this.remove(),e.preventDefault();break;case X.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}},{key:"_blur",value:function(){var e=this;this._ngZone.onStable.pipe((0,ie.q)(1)).subscribe(function(){e._ngZone.run(function(){e._hasFocus=!1,e._onBlur.next({chip:e})})})}},{key:"_dispatchSelectionChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}]),n}(pe);return e.\u0275fac=function(t){return new(t||e)(b.Y36(b.SBq),b.Y36(b.R0b),b.Y36(se.t4),b.Y36(x.Y2,8),b.Y36(b.sBO),b.Y36(r.K0),b.Y36(U.Qb,8),b.$8M("tabindex"))},e.\u0275dir=b.lG2({type:e,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,i){var n;(1&e&&(b.Suo(i,ue,5),b.Suo(i,he,5),b.Suo(i,ce,5)),2&e)&&(b.iGM(n=b.CRH())&&(t.avatar=n.first),b.iGM(n=b.CRH())&&(t.trailingIcon=n.first),b.iGM(n=b.CRH())&&(t.removeIcon=n.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,t){1&e&&b.NdJ("click",function(e){return t._handleClick(e)})("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t.focus()})("blur",function(){return t._blur()}),2&e&&(b.uIk("tabindex",t.disabled?null:t.tabIndex)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString())("aria-selected",t.ariaSelected),b.ekj("mat-chip-selected",t.selected)("mat-chip-with-avatar",t.avatar)("mat-chip-with-trailing-icon",t.trailingIcon||t.removeIcon)("mat-chip-disabled",t.disabled)("_mat-animation-noopable",t._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[b.qOj]}),e}(),me=new b.OlP("mat-chips-default-options"),fe=(0,x.FD)(function(){return u(function e(t,i,n,a){l(this,e),this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=n,this.ngControl=a})}()),be=0,_e=u(function e(t,i){l(this,e),this.source=t,this.value=i}),ve=function(){var t=function(t){i(o,t);var n=a(o);function o(e,t,i,a,r,c,u){var h;return l(this,o),(h=n.call(this,c,a,r,u))._elementRef=e,h._changeDetectorRef=t,h._dir=i,h.controlType="mat-chip-list",h._lastDestroyedChipIndex=null,h._destroyed=new ee.xQ,h._uid="mat-chip-list-"+be++,h._tabIndex=0,h._userTabIndex=null,h._onTouched=function(){},h._onChange=function(){},h._multiple=!1,h._compareWith=function(e,t){return e===t},h._required=!1,h._disabled=!1,h.ariaOrientation="horizontal",h._selectable=!0,h.change=new b.vpe,h.valueChange=new b.vpe,h.ngControl&&(h.ngControl.valueAccessor=s(h)),h}return u(o,[{key:"selected",get:function(){var e,t;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(t=this._selectionModel)||void 0===t?void 0:t.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=(0,O.Ig)(e),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(e){this.writeValue(e),this._value=e}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=(0,O.Ig)(e),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(e){this._disabled=(0,O.Ig)(e),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(e){var t=this;this._selectable=(0,O.Ig)(e),this.chips&&this.chips.forEach(function(e){return e.chipListSelectable=t._selectable})}},{key:"tabIndex",set:function(e){this._userTabIndex=e,this._tabIndex=e}},{key:"chipSelectionChanges",get:function(){return te.T.apply(void 0,e(this.chips.map(function(e){return e.selectionChange})))}},{key:"chipFocusChanges",get:function(){return te.T.apply(void 0,e(this.chips.map(function(e){return e._onFocus})))}},{key:"chipBlurChanges",get:function(){return te.T.apply(void 0,e(this.chips.map(function(e){return e._onBlur})))}},{key:"chipRemoveChanges",get:function(){return te.T.apply(void 0,e(this.chips.map(function(e){return e.destroyed})))}},{key:"ngAfterContentInit",value:function(){var e=this;this._keyManager=new N.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,ne.R)(this._destroyed)).subscribe(function(t){return e._keyManager.withHorizontalOrientation(t)}),this._keyManager.tabOut.pipe((0,ne.R)(this._destroyed)).subscribe(function(){e._allowFocusEscape()}),this.chips.changes.pipe((0,ae.O)(null),(0,ne.R)(this._destroyed)).subscribe(function(){e.disabled&&Promise.resolve().then(function(){e._syncChipsState()}),e._resetChips(),e._initializeSelection(),e._updateTabIndex(),e._updateFocusForDestroyedChips(),e.stateChanges.next()})}},{key:"ngOnInit",value:function(){this._selectionModel=new oe.Ov(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"writeValue",value:function(e){this.chips&&this._setSelectionByValue(e,!1)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.stateChanges.next()}},{key:"onContainerClick",value:function(e){this._originatesFromChip(e)||this.focus()}},{key:"focus",value:function(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}},{key:"_focusInput",value:function(e){this._chipInput&&this._chipInput.focus(e)}},{key:"_keydown",value:function(e){var t=e.target;t&&t.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(e){return e>=0&&e<this.chips.length}},{key:"_setSelectionByValue",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach(function(e){return e.deselect()}),Array.isArray(e))e.forEach(function(e){return t._selectValue(e,i)}),this._sortValues();else{var n=this._selectValue(e,i);n&&i&&this._keyManager.setActiveItem(n)}}},{key:"_selectValue",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.chips.find(function(i){return null!=i.value&&t._compareWith(i.value,e)});return n&&(i?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}},{key:"_initializeSelection",value:function(){var e=this;Promise.resolve().then(function(){(e.ngControl||e._value)&&(e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value,!1),e.stateChanges.next())})}},{key:"_clearSelection",value:function(e){this._selectionModel.clear(),this.chips.forEach(function(t){t!==e&&t.deselect()}),this.stateChanges.next()}},{key:"_sortValues",value:function(){var e=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach(function(t){t.selected&&e._selectionModel.select(t)}),this.stateChanges.next())}},{key:"_propagateChanges",value:function(e){var t;t=Array.isArray(this.selected)?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.change.emit(new _e(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var e=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(function(){e.focused||e._markAsTouched()}):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var e=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(function(){e._tabIndex=e._userTabIndex||0,e._changeDetectorRef.markForCheck()}))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var e=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(function(t){t.source.selected?e._selectionModel.select(t.source):e._selectionModel.deselect(t.source),e.multiple||e.chips.forEach(function(t){!e._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&e._propagateChanges()})}},{key:"_listenToChipsFocus",value:function(){var e=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe(function(t){var i=e.chips.toArray().indexOf(t.chip);e._isValidIndex(i)&&e._keyManager.updateActiveItem(i),e.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(function(){e._blur(),e.stateChanges.next()})}},{key:"_listenToChipsRemoved",value:function(){var e=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(function(t){var i=t.chip,n=e.chips.toArray().indexOf(t.chip);e._isValidIndex(n)&&i._hasFocus&&(e._lastDestroyedChipIndex=n)})}},{key:"_originatesFromChip",value:function(e){for(var t=e.target;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-chip"))return!0;t=t.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips&&this.chips.some(function(e){return e._hasFocus})}},{key:"_syncChipsState",value:function(){var e=this;this.chips&&this.chips.forEach(function(t){t._chipListDisabled=e._disabled,t._chipListMultiple=e.multiple})}}]),o}(fe);return t.\u0275fac=function(e){return new(e||t)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(re.Is,8),b.Y36(g.F,8),b.Y36(g.sg,8),b.Y36(x.rD),b.Y36(g.a5,10))},t.\u0275cmp=b.Xpm({type:t,selectors:[["mat-chip-list"]],contentQueries:function(e,t,i){var n;(1&e&&b.Suo(i,ge,5),2&e)&&(b.iGM(n=b.CRH())&&(t.chips=n))},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,t){1&e&&b.NdJ("focus",function(){return t.focus()})("blur",function(){return t._blur()})("keydown",function(e){return t._keydown(e)}),2&e&&(b.Ikx("id",t._uid),b.uIk("tabindex",t.disabled?null:t._tabIndex)("aria-describedby",t._ariaDescribedby||null)("aria-required",t.role?t.required:null)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-multiselectable",t.multiple)("role",t.role)("aria-orientation",t.ariaOrientation),b.ekj("mat-chip-list-disabled",t.disabled)("mat-chip-list-invalid",t.errorState)("mat-chip-list-required",t.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[b._Bn([{provide:y.Eo,useExisting:t}]),b.qOj],ngContentSelectors:le,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,t){1&e&&(b.F$t(),b.TgZ(0,"div",0),b.Hsn(1),b.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t}(),ye={separatorKeyCodes:[X.K5]},ke=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({providers:[x.rD,{provide:me,useValue:ye}],imports:[[x.BQ]]}),e}(),Ce=o(6627);function xe(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"button",18),b.NdJ("click",function(){return b.CHM(i),b.oxw().openDialog()}),b._uU(1,"Create Campaign"),b.qZA()}}var we=function(e){return{"background-color":e}};function Ie(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"mat-chip",19),b.NdJ("click",function(){var e=b.CHM(i).$implicit;return b.oxw().onCountrySelect(e)}),b._uU(1),b.qZA()}if(2&e){var n=t.$implicit,a=b.oxw();b.Q6J("ngStyle",b.VKq(2,we,n.code===(null==a.selectedCountry?null:a.selectedCountry.code)?"yellowgreen":"#e0e0e0")),b.xp6(1),b.hij(" ",n.name," ")}}function Ze(e,t){1&e&&(b.TgZ(0,"th",20),b._uU(1," Name "),b.qZA())}function Se(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"td",21),b.NdJ("click",function(){var e=b.CHM(i).$implicit;return b.oxw().openLink(e.url)}),b._uU(1),b.qZA()}if(2&e){var n=t.$implicit;b.xp6(1),b.hij(" ",n.name," ")}}function Ae(e,t){1&e&&(b.TgZ(0,"th",20),b._uU(1," Offer ID "),b.qZA())}function Te(e,t){if(1&e&&(b.TgZ(0,"td",22),b._uU(1),b.qZA()),2&e){var i=t.$implicit;b.xp6(1),b.hij(" ",i.offer_id," ")}}function qe(e,t){1&e&&(b.TgZ(0,"th",20),b._uU(1," URL "),b.qZA())}function Re(e,t){if(1&e&&(b.TgZ(0,"td",22),b._uU(1),b.qZA()),2&e){var i=t.$implicit;b.xp6(1),b.hij(" ",i.url," ")}}function De(e,t){1&e&&(b.TgZ(0,"th",20),b._uU(1," Country "),b.qZA())}function Fe(e,t){if(1&e&&(b.TgZ(0,"td",22),b._uU(1),b.qZA()),2&e){var i=t.$implicit;b.xp6(1),b.hij(" ",i.countryObj.name," ")}}function Ee(e,t){1&e&&(b.TgZ(0,"th",20),b._uU(1," Campaign Type "),b.qZA())}function Oe(e,t){if(1&e&&(b.TgZ(0,"td",22),b._uU(1),b.qZA()),2&e){var i=t.$implicit;b.xp6(1),b.hij(" ",i.campaign_type," ")}}function Ue(e,t){1&e&&(b.TgZ(0,"th",20),b._uU(1," Actions "),b.qZA())}function Ne(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"span"),b.TgZ(1,"button",24),b.NdJ("click",function(){b.CHM(i);var e=b.oxw().$implicit;return b.oxw().openDialog(e)}),b.TgZ(2,"mat-icon",25),b._uU(3,"edit"),b.qZA(),b.qZA(),b.TgZ(4,"button",26),b.NdJ("click",function(){b.CHM(i);var e=b.oxw().$implicit;return b.oxw().openAssignDialog(e)}),b._uU(5," Assign "),b.qZA(),b.qZA()}}function Ye(e,t){if(1&e&&(b.TgZ(0,"td",22),b.YNc(1,Ne,6,0,"span",23),b.qZA()),2&e){var i=b.oxw();b.xp6(1),b.Q6J("ngIf",i.showUsers)}}function Be(e,t){1&e&&b._UZ(0,"tr",27)}function Me(e,t){1&e&&b._UZ(0,"tr",28)}var Je,Qe,je=[{path:"",component:h.O,children:[{path:"",redirectTo:"manage",pathMatch:"full"},{path:"manage",component:(Je=function(){function e(t,i,n){l(this,e),this.apiService=t,this.dialog=i,this.localStorageService=n,this.displayedColumns=["name","offer_id","url","country","campaign_type"],this.campaigns=[],this.assignments={},this.dataSource=new p.by(this.campaigns),this.length=100,this.pageSize=10,this.users=[],this.pageSizeOptions=[5,10,25,100],this.showUsers=!1}return u(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.showUsers&&this.displayedColumns.push("actions")}},{key:"ngOnInit",value:function(){var e=this;this.showUsers=this.localStorageService.isAdminOrSuperAdmin,this.localStorageService.getIndexItem("countries").subscribe(function(t){e.countries=t,e.getCampaigns(),e.getAllUsers()})}},{key:"getCampaigns",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.apiService.getCampaigns(this.pageSize,i+1,"",null===(e=this.selectedCountry)||void 0===e?void 0:e.code).subscribe(function(e){t.length=e.count,t.campaigns=e.data,t.campaigns.forEach(function(e){e.countryObj=t.countries.find(function(t){return t.code===e.country})}),t.dataSource=new p.by(t.campaigns),t.assignments=e.assignments,t.countryFilters=t.countries.filter(function(t){return e.countries.indexOf(t.code)>-1})})}},{key:"getAllUsers",value:function(){var e=this;this.showUsers&&this.apiService.getUsersRole().subscribe(function(t){e.users=t})}},{key:"onPageEvent",value:function(e){this.getCampaigns(e.pageIndex)}},{key:"openDialog",value:function(e){var t=this;this.dialog.open(D,{width:"500px",data:e}).afterClosed().subscribe(function(e){console.log("The dialog was closed"),e&&t.getCampaigns()})}},{key:"openAssignDialog",value:function(e){var t,i=this;this.dialog.open(K,{width:"500px",data:{campaign:e,users:null===(t=this.users)||void 0===t?void 0:t.data,assignments:this.assignments[e._id.$oid]}}).afterClosed().subscribe(function(e){console.log("The dialog was closed"),e&&i.getCampaigns()})}},{key:"onCountrySelect",value:function(e){var t;this.selectedCountry=e.code!==(null===(t=this.selectedCountry)||void 0===t?void 0:t.code)?e:void 0,this.getCampaigns()}},{key:"openLink",value:function(e){window.open(e,"_blank")}}]),e}(),Je.\u0275fac=function(e){return new(e||Je)(b.Y36(_.s),b.Y36(m.uw),b.Y36(v.n))},Je.\u0275cmp=b.Xpm({type:Je,selectors:[["app-manage-campaigns"]],viewQuery:function(e,t){var i;1&e&&b.Gf(d.NW,5),2&e&&b.iGM(i=b.CRH())&&(t.paginator=i.first)},decls:29,vars:8,consts:[["mat-stroked-button","","style","float: right",3,"click",4,"ngIf"],["aria-label","Fish selection"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","offer_id"],["mat-cell","",4,"matCellDef"],["matColumnDef","url"],["matColumnDef","country"],["matColumnDef","campaign_type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["mat-stroked-button","",2,"float","right",3,"click"],[3,"ngStyle","click"],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-cell",""],[4,"ngIf"],["mat-icon-button","",3,"click"],["matListIcon",""],["mat-stroked-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(b.TgZ(0,"h2"),b._uU(1,"Campaigns "),b.YNc(2,xe,2,0,"button",0),b.TgZ(3,"mat-chip-list",1),b.YNc(4,Ie,2,4,"mat-chip",2),b.qZA(),b.qZA(),b.TgZ(5,"div",3),b.TgZ(6,"table",4),b.ynx(7,5),b.YNc(8,Ze,2,0,"th",6),b.YNc(9,Se,2,1,"td",7),b.BQk(),b.ynx(10,8),b.YNc(11,Ae,2,0,"th",6),b.YNc(12,Te,2,1,"td",9),b.BQk(),b.ynx(13,10),b.YNc(14,qe,2,0,"th",6),b.YNc(15,Re,2,1,"td",9),b.BQk(),b.ynx(16,11),b.YNc(17,De,2,0,"th",6),b.YNc(18,Fe,2,1,"td",9),b.BQk(),b.ynx(19,12),b.YNc(20,Ee,2,0,"th",6),b.YNc(21,Oe,2,1,"td",9),b.BQk(),b.ynx(22,13),b.YNc(23,Ue,2,0,"th",6),b.YNc(24,Ye,2,1,"td",9),b.BQk(),b.YNc(25,Be,1,0,"tr",14),b.YNc(26,Me,1,0,"tr",15),b.qZA(),b.TgZ(27,"mat-paginator",16,17),b.NdJ("page",function(e){return t.onPageEvent(e)}),b.qZA(),b.qZA()),2&e&&(b.xp6(2),b.Q6J("ngIf",t.showUsers),b.xp6(2),b.Q6J("ngForOf",t.countryFilters),b.xp6(2),b.Q6J("dataSource",t.dataSource),b.xp6(19),b.Q6J("matHeaderRowDef",t.displayedColumns),b.xp6(1),b.Q6J("matRowDefColumns",t.displayedColumns),b.xp6(1),b.Q6J("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},directives:[r.O5,ve,r.sg,p.BZ,p.w1,p.fO,p.Dz,p.as,p.nj,d.NW,w.lW,ge,r.PC,p.ge,p.ev,Ce.Hw,F.Nh,p.XQ,p.Gk],styles:[".mat-standard-chip[_ngcontent-%COMP%]{padding:18px}"]}),Je)}]}],Le=o(4466),Pe=((Qe=u(function e(){l(this,e)})).\u0275fac=function(e){return new(e||Qe)},Qe.\u0275mod=b.oAB({type:Qe}),Qe.\u0275inj=b.cJS({imports:[[d.TU,p.p0,w.ot,m.Is,F.ie,G,ke,Ce.Ps,y.lN,k.c,g.UX,C.LD,r.ez,Le.m,c.Bz.forChild(je)]]}),Qe)}}])}();