(self.webpackChunkdelta_ui=self.webpackChunkdelta_ui||[]).push([[692],{6692:function(e,t,i){"use strict";i.r(t),i.d(t,{CampaignsModule:function(){return Ye}});var s=i(8583),a=i(3423),n=i(2790),o=i(3962),r=i(2789),l=i(3679),c=i(2238),h=i(6324),d=i(7716),p=i(6083),u=i(6164),g=i(8295),m=i(9983),_=i(7441),b=i(2458),f=i(1095);function v(e,t){1&e&&(d.TgZ(0,"mat-error",17),d._uU(1," Campaign Name is required."),d.qZA())}function C(e,t){if(1&e&&(d.TgZ(0,"mat-option",18),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e.code),d.xp6(1),d.Oqu(e.name)}}function x(e,t){1&e&&(d.TgZ(0,"mat-error",17),d._uU(1," Country is required."),d.qZA())}function y(e,t){1&e&&(d.TgZ(0,"mat-error",17),d._uU(1," Campaign Type is required."),d.qZA())}function k(e,t){1&e&&(d.TgZ(0,"mat-error",17),d._uU(1," Offer ID is required."),d.qZA())}function w(e,t){1&e&&(d.TgZ(0,"mat-error",17),d._uU(1," Affiliate ID is required."),d.qZA())}function Z(e,t){1&e&&(d.TgZ(0,"mat-error",17),d._uU(1," Campaign URL is required."),d.qZA())}let I=(()=>{class e{constructor(e,t,i,s,a,n){this.apiService=e,this.dialogRef=t,this.formBuilder=i,this.localStorageService=s,this.snackBarService=a,this.dialogueData=n}ngOnInit(){this.setData(this.dialogueData),this.getCountries(),this.isEdit=!!this.dialogueData}onNoClick(){this.dialogRef.close()}getCountries(){this.localStorageService.getIndexItem("countries").subscribe(e=>{this.countries=e})}setData(e){this.campaignForm=this.formBuilder.group({name:this.formBuilder.control(null==e?void 0:e.name,[l.kI.required]),country:this.formBuilder.control(null==e?void 0:e.country,[l.kI.required]),campaign_type:this.formBuilder.control(null==e?void 0:e.campaign_type,[l.kI.required]),offer_id:this.formBuilder.control(null==e?void 0:e.offer_id,[l.kI.required]),affiliate_id:this.formBuilder.control(null==e?void 0:e.affiliate_id,[l.kI.required]),url:this.formBuilder.control(null==e?void 0:e.url,[l.kI.required])})}saveCampaign(){const e=this.campaignForm.value;console.log(e),this.dialogueData?this.apiService.updateCampaign(e,this.dialogueData._id.$oid).subscribe(e=>{this.dialogRef.close(!0),this.snackBarService.open("Campaign updated successfully",h.d.Success,void 0,3e3)},e=>{this.snackBarService.open("Something went wrong while updating campaign. Please try again",h.d.Error,void 0,3e3)}):this.apiService.createCampaign(e).subscribe(e=>{this.snackBarService.open("Campaign created successfully",h.d.Success,void 0,3e3),this.dialogRef.close(!0)},e=>{this.snackBarService.open("Something went wrong while creating campaign. Please try again",h.d.Error,void 0,3e3)})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.s),d.Y36(c.so),d.Y36(l.qu),d.Y36(u.n),d.Y36(h.c),d.Y36(c.WI))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-add-campaign"]],decls:36,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"width-100"],["matInput","","formControlName","name","type","text","name","name","placeholder","Enter Campaign Name"],["align","start","class","form__error",4,"ngIf"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campaign_type"],["value","SIMILAR"],["value","UNIQUE"],["matInput","","formControlName","offer_id","type","text","name","name","placeholder","Enter Offer ID"],["matInput","","formControlName","affiliate_id","type","text","name","name","placeholder","Enter Affiliate ID"],["matInput","","formControlName","url","type","text","name","name","placeholder","Enter Campaign URL"],["mat-dialog-actions","",2,"float","right"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["align","start",1,"form__error"],[3,"value"]],template:function(e,t){if(1&e&&(d.TgZ(0,"h1",0),d._uU(1),d.qZA(),d.TgZ(2,"div",1),d.TgZ(3,"form",2),d.TgZ(4,"mat-form-field",3),d._UZ(5,"input",4),d.YNc(6,v,2,0,"mat-error",5),d.qZA(),d.TgZ(7,"mat-form-field"),d.TgZ(8,"mat-label"),d._uU(9,"Select Country"),d.qZA(),d.TgZ(10,"mat-select",6),d.YNc(11,C,2,2,"mat-option",7),d.qZA(),d.YNc(12,x,2,0,"mat-error",5),d.qZA(),d.TgZ(13,"mat-form-field"),d.TgZ(14,"mat-label"),d._uU(15,"Select Campaign Type"),d.qZA(),d.TgZ(16,"mat-select",8),d.TgZ(17,"mat-option",9),d._uU(18,"SIMILAR"),d.qZA(),d.TgZ(19,"mat-option",10),d._uU(20,"UNIQUE"),d.qZA(),d.qZA(),d.YNc(21,y,2,0,"mat-error",5),d.qZA(),d.TgZ(22,"mat-form-field"),d._UZ(23,"input",11),d.YNc(24,k,2,0,"mat-error",5),d.qZA(),d.TgZ(25,"mat-form-field"),d._UZ(26,"input",12),d.YNc(27,w,2,0,"mat-error",5),d.qZA(),d.TgZ(28,"mat-form-field"),d._UZ(29,"input",13),d.YNc(30,Z,2,0,"mat-error",5),d.qZA(),d.qZA(),d.qZA(),d.TgZ(31,"div",14),d.TgZ(32,"button",15),d.NdJ("click",function(){return t.onNoClick()}),d._uU(33,"Cancel"),d.qZA(),d.TgZ(34,"button",16),d.NdJ("click",function(){return t.saveCampaign()}),d._uU(35,"Submit"),d.qZA(),d.qZA()),2&e){let e,i,s,a,n,o;d.xp6(1),d.hij("",t.isEdit?"Edit":"Create"," Campaign"),d.xp6(2),d.Q6J("formGroup",t.campaignForm),d.xp6(3),d.Q6J("ngIf",null==t.campaignForm||null==(e=t.campaignForm.get("name"))?null:e.hasError("required")),d.xp6(5),d.Q6J("ngForOf",t.countries),d.xp6(1),d.Q6J("ngIf",null==t.campaignForm||null==(i=t.campaignForm.get("country"))?null:i.hasError("required")),d.xp6(9),d.Q6J("ngIf",null==t.campaignForm||null==(s=t.campaignForm.get("campaign_type"))?null:s.hasError("required")),d.xp6(3),d.Q6J("ngIf",null==t.campaignForm||null==(a=t.campaignForm.get("offer_id"))?null:a.hasError("required")),d.xp6(3),d.Q6J("ngIf",null==t.campaignForm||null==(n=t.campaignForm.get("affiliate_id"))?null:n.hasError("required")),d.xp6(3),d.Q6J("ngIf",null==t.campaignForm||null==(o=t.campaignForm.get("url"))?null:o.hasError("required")),d.xp6(4),d.Q6J("disabled",t.campaignForm.invalid)}},directives:[c.uh,c.xY,l._Y,l.JL,l.sg,g.KE,m.Nt,l.Fj,l.JJ,l.u,s.O5,g.hX,_.gD,s.sg,b.ey,c.H8,f.lW,g.TO],styles:[""]}),e})();var S=i(9992),q=i(8553),A=i(9490),T=i(6237),D=i(9238);const R=["thumbContainer"],F=["toggleBar"],E=["input"],N=function(e){return{enterDuration:e}},U=["*"],Y=new d.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let O=0;const M={provide:l.JU,useExisting:(0,d.Gpc)(()=>Q),multi:!0};class B{constructor(e,t){this.source=e,this.checked=t}}const J=(0,b.sb)((0,b.pj)((0,b.Kr)((0,b.Id)(class{constructor(e){this._elementRef=e}}))));let Q=(()=>{class e extends J{constructor(e,t,i,s,a,n){super(e),this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=a,this._onChange=e=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++O,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new d.vpe,this.toggleChange=new d.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===n}get required(){return this._required}set required(e){this._required=(0,A.Ig)(e)}get checked(){return this._checked}set checked(e){this._checked=(0,A.Ig)(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new B(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(D.tE),d.Y36(d.sBO),d.$8M("tabindex"),d.Y36(Y),d.Y36(T.Qb,8))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){if(1&e&&(d.Gf(R,5),d.Gf(F,5),d.Gf(E,5)),2&e){let e;d.iGM(e=d.CRH())&&(t._thumbEl=e.first),d.iGM(e=d.CRH())&&(t._thumbBarEl=e.first),d.iGM(e=d.CRH())&&(t._inputElement=e.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(d.Ikx("id",t.id),d.uIk("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),d.ekj("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable",t._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[d._Bn([M]),d.qOj],ngContentSelectors:U,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(d.F$t(),d.TgZ(0,"label",0,1),d.TgZ(2,"div",2,3),d.TgZ(4,"input",4,5),d.NdJ("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),d.qZA(),d.TgZ(6,"div",6,7),d._UZ(8,"div",8),d.TgZ(9,"div",9),d._UZ(10,"div",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"span",11,12),d.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),d.TgZ(13,"span",13),d._uU(14,"\xa0"),d.qZA(),d.Hsn(15),d.qZA(),d.qZA()),2&e){const e=d.MAs(1),i=d.MAs(12);d.uIk("for",t.inputId),d.xp6(2),d.ekj("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),d.xp6(2),d.Q6J("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),d.uIk("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),d.xp6(5),d.Q6J("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",d.VKq(18,N,t._noopAnimations?0:150))}},directives:[b.wG,q.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({}),e})(),H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[L,b.si,b.BQ,q.Q8],L,b.BQ]}),e})();function z(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"mat-list-item"),d.TgZ(1,"p"),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.TgZ(4,"span"),d.TgZ(5,"mat-slide-toggle",5),d.NdJ("checkedChange",function(t){return d.CHM(e).$implicit.is_assigned=t})("change",function(t){const i=d.CHM(e).$implicit;return d.oxw().onChange(t,i)}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(3),d.Oqu(e.username),d.xp6(2),d.Q6J("checked",e.is_assigned)}}let j=(()=>{class e{constructor(e,t,i,s){this.apiService=e,this.dialogRef=t,this.snackBarService=i,this.dialogueData=s,this.assignments=[],this.users=[]}ngOnInit(){var e;console.log(this.dialogueData),this.users=this.dialogueData.users,this.assignments=this.dialogueData.assignments,console.log(this.assignments),console.log(this.users),null===(e=this.users)||void 0===e||e.forEach(e=>{var t;e.assignment=this.assignments.find(t=>t.user_id.$oid==e._id.$oid),e.is_assigned=!!(null===(t=e.assignment)||void 0===t?void 0:t.is_assigned)}),console.log(this.users)}update(){const e=[];this.users.forEach(t=>{const i={};i.is_assigned=t.is_assigned,i.user_id=t._id.$oid,i.campaign_id=this.dialogueData.campaign._id.$oid,t.assignment&&(i.id=t.assignment._id.$oid),(i.is_assigned||t.assignment&&t.assignment.is_assigned!=i.is_assigned)&&e.push(i)}),this.apiService.assignCampaign(e).subscribe(e=>{this.dialogRef.close(!0),this.snackBarService.open("Campaign assigned successfully",h.d.Success,void 0,3e3)},e=>{this.snackBarService.open("Something went wrong while assigning campaign. Please try again",h.d.Error,void 0,3e3)}),console.log(e)}onNoClick(){this.dialogRef.close()}onChange(e,t){console.log(e,t),t.is_assigned=e.checked}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.s),d.Y36(c.so),d.Y36(h.c),d.Y36(c.WI))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-assign-campaign"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngFor","ngForOf"],["mat-dialog-actions","",2,"float","right"],["mat-button","",3,"click"],["color","primary",3,"checked","checkedChange","change"]],template:function(e,t){1&e&&(d.TgZ(0,"h1",0),d._uU(1,"Assign Campaign"),d.qZA(),d.TgZ(2,"div",1),d.TgZ(3,"mat-list"),d.YNc(4,z,6,2,"mat-list-item",2),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"button",4),d.NdJ("click",function(){return t.onNoClick()}),d._uU(7,"Cancel"),d.qZA(),d.TgZ(8,"button",4),d.NdJ("click",function(){return t.update()}),d._uU(9,"Update"),d.qZA(),d.qZA()),2&e&&(d.xp6(4),d.Q6J("ngForOf",t.users))},directives:[c.uh,c.xY,S.i$,s.sg,c.H8,f.lW,S.Tg,Q],styles:[""]}),e})();var V=i(6461),$=i(9765),P=i(6682),G=i(5257),W=i(6782),K=i(9761),X=i(8345),ee=i(521),te=i(946);const ie=["*"],se=new d.OlP("MatChipRemove"),ae=new d.OlP("MatChipAvatar"),ne=new d.OlP("MatChipTrailingIcon");class oe{constructor(e){this._elementRef=e}}const re=(0,b.sb)((0,b.pj)((0,b.Kr)(oe),"primary"),-1);let le=(()=>{class e extends re{constructor(e,t,i,s,a,n,o,r){super(e),this._ngZone=t,this._changeDetectorRef=a,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new $.xQ,this._onBlur=new $.xQ,this.selectionChange=new d.vpe,this.destroyed=new d.vpe,this.removed=new d.vpe,this._addHostClassName(),this._chipRippleTarget=n.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new b.IR(this,t,this._chipRippleTarget,i),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=s||{},this._animationsDisabled="NoopAnimations"===o,this.tabIndex=null!=r&&parseInt(r)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const t=(0,A.Ig)(e);t!==this._selected&&(this._selected=t,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,A.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,A.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,A.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e=this._elementRef.nativeElement;e.hasAttribute("mat-basic-chip")||"mat-basic-chip"===e.tagName.toLowerCase()?e.classList.add("mat-basic-chip"):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled?e.preventDefault():e.stopPropagation()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case V.yY:case V.ZH:this.remove(),e.preventDefault();break;case V.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,G.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ee.t4),d.Y36(b.Y2,8),d.Y36(d.sBO),d.Y36(s.K0),d.Y36(T.Qb,8),d.$8M("tabindex"))},e.\u0275dir=d.lG2({type:e,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,i){if(1&e&&(d.Suo(i,ae,5),d.Suo(i,ne,5),d.Suo(i,se,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.avatar=e.first),d.iGM(e=d.CRH())&&(t.trailingIcon=e.first),d.iGM(e=d.CRH())&&(t.removeIcon=e.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,t){1&e&&d.NdJ("click",function(e){return t._handleClick(e)})("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t.focus()})("blur",function(){return t._blur()}),2&e&&(d.uIk("tabindex",t.disabled?null:t.tabIndex)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString())("aria-selected",t.ariaSelected),d.ekj("mat-chip-selected",t.selected)("mat-chip-with-avatar",t.avatar)("mat-chip-with-trailing-icon",t.trailingIcon||t.removeIcon)("mat-chip-disabled",t.disabled)("_mat-animation-noopable",t._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[d.qOj]}),e})();const ce=new d.OlP("mat-chips-default-options"),he=(0,b.FD)(class{constructor(e,t,i,s){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=s}});let de=0;class pe{constructor(e,t){this.source=e,this.value=t}}let ue=(()=>{class e extends he{constructor(e,t,i,s,a,n,o){super(n,s,a,o),this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new $.xQ,this._uid="mat-chip-list-"+de++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(e,t)=>e===t,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new d.vpe,this.valueChange=new d.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,t;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(t=this._selectionModel)||void 0===t?void 0:t.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,A.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(e){this._required=(0,A.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,A.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,A.Ig)(e),this.chips&&this.chips.forEach(e=>e.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,P.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,P.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,P.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,P.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new D.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,W.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,W.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,K.O)(null),(0,W.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new X.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const t=e.target;t&&t.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,t=!0){if(this._clearSelection(),this.chips.forEach(e=>e.deselect()),Array.isArray(e))e.forEach(e=>this._selectValue(e,t)),this._sortValues();else{const i=this._selectValue(e,t);i&&t&&this._keyManager.setActiveItem(i)}}_selectValue(e,t=!0){const i=this.chips.find(t=>null!=t.value&&this._compareWith(t.value,e));return i&&(t?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(t=>{t!==e&&t.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let t=null;t=Array.isArray(this.selected)?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.change.emit(new pe(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(e=>{!this._selectionModel.isSelected(e)&&e.selected&&e.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let t=this.chips.toArray().indexOf(e.chip);this._isValidIndex(t)&&this._keyManager.updateActiveItem(t),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const t=e.chip,i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&t._hasFocus&&(this._lastDestroyedChipIndex=i)})}_originatesFromChip(e){let t=e.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-chip"))return!0;t=t.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(te.Is,8),d.Y36(l.F,8),d.Y36(l.sg,8),d.Y36(b.rD),d.Y36(l.a5,10))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-chip-list"]],contentQueries:function(e,t,i){if(1&e&&d.Suo(i,le,5),2&e){let e;d.iGM(e=d.CRH())&&(t.chips=e)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,t){1&e&&d.NdJ("focus",function(){return t.focus()})("blur",function(){return t._blur()})("keydown",function(e){return t._keydown(e)}),2&e&&(d.Ikx("id",t._uid),d.uIk("tabindex",t.disabled?null:t._tabIndex)("aria-describedby",t._ariaDescribedby||null)("aria-required",t.role?t.required:null)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-multiselectable",t.multiple)("role",t.role)("aria-orientation",t.ariaOrientation),d.ekj("mat-chip-list-disabled",t.disabled)("mat-chip-list-invalid",t.errorState)("mat-chip-list-required",t.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[d._Bn([{provide:g.Eo,useExisting:e}]),d.qOj],ngContentSelectors:ie,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,t){1&e&&(d.F$t(),d.TgZ(0,"div",0),d.Hsn(1),d.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),e})();const ge={separatorKeyCodes:[V.K5]};let me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[b.rD,{provide:ce,useValue:ge}],imports:[[b.BQ]]}),e})();var _e=i(6627);function be(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",18),d.NdJ("click",function(){return d.CHM(e),d.oxw().openDialog()}),d._uU(1,"Create Campaign"),d.qZA()}}const fe=function(e){return{"background-color":e}};function ve(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"mat-chip",19),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().onCountrySelect(t)}),d._uU(1),d.qZA()}if(2&e){const e=t.$implicit,i=d.oxw();d.Q6J("ngStyle",d.VKq(2,fe,e.code===(null==i.selectedCountry?null:i.selectedCountry.code)?"yellowgreen":"#e0e0e0")),d.xp6(1),d.hij(" ",e.name," ")}}function Ce(e,t){1&e&&(d.TgZ(0,"th",20),d._uU(1," Name "),d.qZA())}function xe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"td",21),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().openLink(t.url)}),d._uU(1),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.name," ")}}function ye(e,t){1&e&&(d.TgZ(0,"th",20),d._uU(1," Offer ID "),d.qZA())}function ke(e,t){if(1&e&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.offer_id," ")}}function we(e,t){1&e&&(d.TgZ(0,"th",20),d._uU(1," URL "),d.qZA())}function Ze(e,t){if(1&e&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.url," ")}}function Ie(e,t){1&e&&(d.TgZ(0,"th",20),d._uU(1," Country "),d.qZA())}function Se(e,t){if(1&e&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.countryObj.name," ")}}function qe(e,t){1&e&&(d.TgZ(0,"th",20),d._uU(1," Campaign Type "),d.qZA())}function Ae(e,t){if(1&e&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.campaign_type," ")}}function Te(e,t){1&e&&(d.TgZ(0,"th",20),d._uU(1," Actions "),d.qZA())}function De(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"span"),d.TgZ(1,"button",24),d.NdJ("click",function(){d.CHM(e);const t=d.oxw().$implicit;return d.oxw().openDialog(t)}),d.TgZ(2,"mat-icon",25),d._uU(3,"edit"),d.qZA(),d.qZA(),d.TgZ(4,"button",26),d.NdJ("click",function(){d.CHM(e);const t=d.oxw().$implicit;return d.oxw().openAssignDialog(t)}),d._uU(5," Assign "),d.qZA(),d.qZA()}}function Re(e,t){if(1&e&&(d.TgZ(0,"td",22),d.YNc(1,De,6,0,"span",23),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.showUsers)}}function Fe(e,t){1&e&&d._UZ(0,"tr",27)}function Ee(e,t){1&e&&d._UZ(0,"tr",28)}const Ne=[{path:"",component:n.O,children:[{path:"",redirectTo:"manage",pathMatch:"full"},{path:"manage",component:(()=>{class e{constructor(e,t,i){this.apiService=e,this.dialog=t,this.localStorageService=i,this.displayedColumns=["name","offer_id","url","country","campaign_type"],this.campaigns=[],this.assignments={},this.dataSource=new r.by(this.campaigns),this.length=100,this.pageSize=10,this.users=[],this.pageSizeOptions=[5,10,25,100],this.showUsers=!1}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.showUsers&&this.displayedColumns.push("actions")}ngOnInit(){this.showUsers=this.localStorageService.isAdminOrSuperAdmin,this.localStorageService.getIndexItem("countries").subscribe(e=>{this.countries=e,this.getCampaigns(),this.getAllUsers()})}getCampaigns(e=0){var t;this.apiService.getCampaigns(this.pageSize,e+1,"",null===(t=this.selectedCountry)||void 0===t?void 0:t.code).subscribe(e=>{this.length=e.count,this.campaigns=e.data,this.campaigns.forEach(e=>{e.countryObj=this.countries.find(t=>t.code===e.country)}),this.dataSource=new r.by(this.campaigns),this.assignments=e.assignments,this.countryFilters=this.countries.filter(t=>e.countries.indexOf(t.code)>-1)})}getAllUsers(){this.showUsers&&this.apiService.getUsersRole().subscribe(e=>{this.users=e})}onPageEvent(e){this.getCampaigns(e.pageIndex)}openDialog(e){this.dialog.open(I,{width:"500px",data:e}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),e&&this.getCampaigns()})}openAssignDialog(e){var t;this.dialog.open(j,{width:"500px",data:{campaign:e,users:null===(t=this.users)||void 0===t?void 0:t.data,assignments:this.assignments[e._id.$oid]}}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),e&&this.getCampaigns()})}onCountrySelect(e){var t;this.selectedCountry=e.code!==(null===(t=this.selectedCountry)||void 0===t?void 0:t.code)?e:void 0,this.getCampaigns()}openLink(e){window.open(e,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.s),d.Y36(c.uw),d.Y36(u.n))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-manage-campaigns"]],viewQuery:function(e,t){if(1&e&&d.Gf(o.NW,5),2&e){let e;d.iGM(e=d.CRH())&&(t.paginator=e.first)}},decls:29,vars:8,consts:[["mat-stroked-button","","style","float: right",3,"click",4,"ngIf"],["aria-label","Fish selection"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","offer_id"],["mat-cell","",4,"matCellDef"],["matColumnDef","url"],["matColumnDef","country"],["matColumnDef","campaign_type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["mat-stroked-button","",2,"float","right",3,"click"],[3,"ngStyle","click"],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-cell",""],[4,"ngIf"],["mat-icon-button","",3,"click"],["matListIcon",""],["mat-stroked-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(d.TgZ(0,"h2"),d._uU(1,"Campaigns "),d.YNc(2,be,2,0,"button",0),d.TgZ(3,"mat-chip-list",1),d.YNc(4,ve,2,4,"mat-chip",2),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"table",4),d.ynx(7,5),d.YNc(8,Ce,2,0,"th",6),d.YNc(9,xe,2,1,"td",7),d.BQk(),d.ynx(10,8),d.YNc(11,ye,2,0,"th",6),d.YNc(12,ke,2,1,"td",9),d.BQk(),d.ynx(13,10),d.YNc(14,we,2,0,"th",6),d.YNc(15,Ze,2,1,"td",9),d.BQk(),d.ynx(16,11),d.YNc(17,Ie,2,0,"th",6),d.YNc(18,Se,2,1,"td",9),d.BQk(),d.ynx(19,12),d.YNc(20,qe,2,0,"th",6),d.YNc(21,Ae,2,1,"td",9),d.BQk(),d.ynx(22,13),d.YNc(23,Te,2,0,"th",6),d.YNc(24,Re,2,1,"td",9),d.BQk(),d.YNc(25,Fe,1,0,"tr",14),d.YNc(26,Ee,1,0,"tr",15),d.qZA(),d.TgZ(27,"mat-paginator",16,17),d.NdJ("page",function(e){return t.onPageEvent(e)}),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("ngIf",t.showUsers),d.xp6(2),d.Q6J("ngForOf",t.countryFilters),d.xp6(2),d.Q6J("dataSource",t.dataSource),d.xp6(19),d.Q6J("matHeaderRowDef",t.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",t.displayedColumns),d.xp6(1),d.Q6J("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},directives:[s.O5,ue,s.sg,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,o.NW,f.lW,le,s.PC,r.ge,r.ev,_e.Hw,S.Nh,r.XQ,r.Gk],styles:[".mat-standard-chip[_ngcontent-%COMP%]{padding:18px}"]}),e})()}]}];var Ue=i(4466);let Ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[o.TU,r.p0,f.ot,c.Is,S.ie,H,me,_e.Ps,g.lN,m.c,l.UX,_.LD,s.ez,Ue.m,a.Bz.forChild(Ne)]]}),e})()}}]);